---
layout:     post
title:      线程同步
subtitle:   线程系列
date:       2017-03-29
author:     wan7451
header-img: img/post-bg-ios9-web.jpg
catalog: true
tags:
    - Thread
    - Java
    - Android
    - Thread
    - ThreadPool
---
# 线程同步
在Android开发中，为了避免阻塞主线程，提高程序的运行效率，一般都会创建多个线程。但在多个线程同时运行时，有可能会调用到同一个方法或变量，由于CPU时间调度上的问题，写入数据会被多次的覆盖，出现不可预知的结果。为了避免这种问题，就要使线程同步。

如果你的代码所在的进程中有多个线程在同时运行，而这些线程可能会同时运行这段代码。如果每次运行结果和单线程运行的结果是一样的，而且其他的变量的值也和预期的是一样的，就是线程安全的。如果多个线程先后更改数据造成所得到的数据不是预期数据，则是线程不安全。

线程同步，就是用来解决线程不安全的问题。


可以使用以下方式进行代码同步

1. 同步方法
2. 同步代码块
3. 使用特殊域变量(volatile)
4. 使用重入锁
5. 使用局部变量
6. 阻塞队列
7. 使用原子变量


![](/images/thread-status.png)

> http://www.cnblogs.com/XHJT/p/3897440.html

